<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Employee Directory</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial;background:#f7f9fc;color:#0f172a}
    header{padding:12px 16px;background:#fff;border-bottom:1px solid #e5e7eb;display:flex;align-items:center;justify-content:space-between}
    header h1{margin:0;font-size:18px;font-weight:800}
    .btn{padding:8px 14px;border-radius:8px;border:1px solid #e5e7eb;cursor:pointer;font-size:14px;background:#fff}
    .btn:hover{background:#f1f5f9}
    .btn.primary{background:#0d6efd;color:#fff;border-color:transparent}
    .btn.danger{background:#ef4444;color:#fff;border-color:transparent}
    .wrap{padding:16px}
    .card{background:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:20px;max-width:520px;margin:auto}
    h2{margin-top:0}
    form label{display:block;margin-top:12px;font-weight:600}
    form input,form select{width:100%;padding:10px;border:1px solid #d1d5db;border-radius:8px;margin-top:4px;font-size:14px}
    .row{display:flex;gap:16px;align-items:center;margin-top:12px}
    .row input[type="radio"]{width:auto;margin-right:6px}
    .muted{font-size:12px;color:#6b7280}
    .error{color:#ef4444;font-size:12px;margin-top:2px;display:none}
    .actions{margin-top:16px;display:flex;gap:10px}
    .imgBox{width:120px;height:120px;border:2px dashed #cbd5e1;border-radius:10px;display:flex;align-items:center;justify-content:center;cursor:pointer;background:#f8fafc}
    .imgBox img{max-width:100%;max-height:100%;border-radius:8px}
  </style>
</head>
<body>
<header>
  <h1>Employee Directory</h1>
  <button class="btn" onclick="location.href='/'">Back</button>
</header>

<div class="wrap">
  <div class="card">
    <h2>Add Record</h2>
    <form id="empForm">
      <label>Name *
        <input id="name" required>
        <div class="error" id="errName">Name is required</div>
      </label>

      <label>Email
        <input id="email" type="email" placeholder="Enter emailâ€¦">
      </label>

      <label>Gender *</label>
      <div class="row">
        <label><input type="radio" name="gender" value="Male" checked> Male</label>
        <label><input type="radio" name="gender" value="Female"> Female</label>
      </div>

      <label>Joined On
        <input id="joined" type="date">
      </label>

      <label>Salary
        <input id="salary" type="number" step="0.01" min="0" value="0.00">
      </label>

      <label>Image</label>
      <div class="imgBox" onclick="document.getElementById('image').click()">
        <span id="imgHint">+</span>
        <img id="imgPreview" style="display:none">
      </div>
      <input id="image" type="file" accept="image/*" style="display:none">

      <div class="actions">
        <button type="submit" class="btn primary">Submit Form</button>
        <button type="reset" class="btn">Reset</button>
        <button type="button" class="btn danger" onclick="cancelForm()">Cancel</button>
      </div>
    </form>
  </div>
</div>

<script>
const API = 'https://script.google.com/macros/s/AKfycbzAYAQiB9vzBZaExFNQUL_PMbs0NVJBG5WihWlmBO9TtTlFsxKdCz6p7mmHJLSZfk65/exec';

function cancelForm(){ location.href='/'; }

const form=document.getElementById('empForm');
form.addEventListener('submit',ev=>{
  ev.preventDefault();
  const name=document.getElementById('name').value.trim();
  if(!name){
    document.getElementById('errName').style.display='block';
    return;
  } else {
    document.getElementById('errName').style.display='none';
  }

  const data={
    name,
    email:document.getElementById('email').value.trim(),
    gender:form.gender.value,
    joined:document.getElementById('joined').value,
    salary:document.getElementById('salary').value,
    image:document.getElementById('image').files[0]?.name||''
  };
  console.log('Submitting',data);
  alert('Form submitted!\nCheck console for data.');
  form.reset();
  document.getElementById('imgPreview').style.display='none';
  document.getElementById('imgHint').style.display='block';
});

document.getElementById('image').addEventListener('change',ev=>{
  const file=ev.target.files[0];
  if(file){
    const reader=new FileReader();
    reader.onload=e=>{
      document.getElementById('imgPreview').src=e.target.result;
      document.getElementById('imgPreview').style.display='block';
      document.getElementById('imgHint').style.display='none';
    };
    reader.readAsDataURL(file);
  }
});
</script>
</body>
</html>
